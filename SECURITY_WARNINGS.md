# ุชุญุฐูุฑุงุช Supabase ุงูุฃูููุฉ - ุงูุชูุถูุญ ูุงูุญููู

## 1. Anonymous Access Policies โ๏ธ

### ุงููุถุน ุงูุญุงูู:
ุฌููุน ุงูุฌุฏุงูู ุชุณูุญ ุจุงููุตูู ููู anonymous users (ุงูุถููู).

### ูู ูุฐู ูุดููุฉุ
**ูุง!** ูุฐุง ุจุงูุชุตููู (by design) - ุงููุนุจุฉ ุชุนุชูุฏ ุนูู Guest Login.

### ุงูุฌุฏุงูู ุงููุชุฃุซุฑุฉ:
- โ `characters` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงูุดุฎุตูุงุช ููุนุจ
- โ `rooms` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงูุบุฑู ููุงูุถูุงู
- โ `players` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงููุงุนุจูู ูู ุงูุบุฑูุฉ
- โ `rounds` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงูุฌููุงุช ููุนุจ
- โ `hints` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงูุชูููุญุงุช ููุนุจ
- โ `votes` - ุงูุถููู ูุญุชุงุฌูู ุฑุคูุฉ ุงูุชุตููุช ููุนุจ

### ุงูุฃูุงู ุงูุญุงูู:
1. **ุงููุฑุงุกุฉ (SELECT)** - ูุณููุญุฉ ููุฌููุน โ
2. **ุงููุชุงุจุฉ (INSERT/UPDATE/DELETE)** - ูุญููุฉ ุจู RLS policies:
   - ููุท ุงููุณุชุฎุฏููู ุงููุตุฑุญูู ูููููู ุงูุชุนุฏูู
   - ุงูุชุญูู ูู user_id ู host_id
   - ุงูุชุญูู ูู is_host ููุนูููุงุช ุงูุฅุฏุงุฑูุฉ

### ูู ูุญุชุงุฌ ุชุญุณููุงุชุ
ูุนูุ ูููู ุชุญุณูู ุจุนุถ ุงูู policies:

#### ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ:

1. **ููุน ุงูุถููู ูู ุชุนุฏูู ุงููุงุนุจูู ุงูุขุฎุฑูู:**
   ```sql
   -- ุจุฏูุงู ูู: "Players can update themselves"
   -- ูุถูู ุดุฑุท ุฅุถุงูู ููุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ููุณ ุถููุงู ูุฃุญุฏ ุขุฎุฑ
   ```

2. **ููุน ุงูุถููู ูู ุฑุคูุฉ ุงูุบุฑู ุงูููุชููุฉ:**
   ```sql
   -- ุจุฏูุงู ูู: USING (true)
   -- ูุณุชุฎุฏู: USING (status IN ('waiting', 'active'))
   ```

---

## 2. Leaked Password Protection ๐

### ุงููุถุน ุงูุญุงูู:
โ **ูุนุทูุฉ** - ูุฌุจ ุชูุนูููุง!

### ูุง ููุ
Supabase ูุชุญูู ูู ูููุงุช ุงููุฑูุฑ ุงููุณุฑุจุฉ ุจุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช HaveIBeenPwned.org

### ููุงุฐุง ูุญุชุงุฌูุงุ
- ููุน ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ ูุฎุชุฑูุฉ
- ุญูุงูุฉ ุญุณุงุจุงุช ุงููุณุชุฎุฏููู
- ุฃูุถู ุงูููุงุฑุณุงุช ุงูุฃูููุฉ

### ููููุฉ ุงูุชูุนูู:

1. ุงูุชุญ **Supabase Dashboard**
2. ุงุฐูุจ ุฅูู **Authentication** โ **Policies**
3. ุงุจุญุซ ุนู **Password Security**
4. ูุนูู **Leaked Password Protection**

ุฃู ุงุณุชุฎุฏู API:
```bash
curl -X PATCH 'https://YOUR-PROJECT.supabase.co/auth/v1/config' \
  -H "Authorization: Bearer YOUR-SERVICE-ROLE-KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "password": {
      "hibp": {
        "enabled": true
      }
    }
  }'
```

---

## 3. ุงูุฎูุงุตุฉ

### โ ููุณุช ูุดุงูู ุญููููุฉ:
- Anonymous Access - ุถุฑูุฑูุฉ ููู Guest Login
- ุงูู RLS policies ูุญููุฉ ุจุดูู ุตุญูุญ

### โ๏ธ ูุฌุจ ุงูุชูุนูู:
- Leaked Password Protection - **ูุนูููุง ุงูุขู!**

### ๐ง ุชุญุณููุงุช ุงุฎุชูุงุฑูุฉ:
- ุชุญุณูู policies ููุบุฑู ุงูููุชููุฉ
- ุฅุถุงูุฉ rate limiting ููุนูููุงุช ุงูุญุณุงุณุฉ
- ุฅุถุงูุฉ logging ููุนูููุงุช ุงููููุฉ

---

## 4. RLS Policies ุงูุญุงููุฉ - ููุฎุต ุงูุฃูุงู

### โ ูุญููุฉ ุจุดูู ุตุญูุญ:
- **rooms** - ููุท ุงูู host ูุนุฏู
- **players** - ููุท ุงููุงุนุจ ููุณู ูุนุฏู ุจูุงูุงุชู
- **rounds** - ููุท ุงูู host ูุฏูุฑ ุงูุฌููุงุช
- **hints** - ููุท ุงููุงุนุจูู ุงููุณุฌููู ูุถูููู ุชูููุญุงุช
- **votes** - ููุท ุงููุงุนุจูู ุงููุณุฌููู ูุตูุชูู

### ๐ ููุชูุญุฉ ูููุฑุงุกุฉ:
- ุฌููุน ุงูุฌุฏุงูู - ููุณูุงุญ ุจู Guest Login
- ูุฐุง ูุชุนูุฏ ูุถุฑูุฑู ูุนูู ุงููุนุจุฉ

---

## ุงููุฑุงุฌุน:
- [Supabase RLS Documentation](https://supabase.com/docs/guides/auth/row-level-security)
- [Password Security](https://supabase.com/docs/guides/auth/password-security)
- [Anonymous Sign-ins](https://supabase.com/docs/guides/auth/auth-anonymous)
